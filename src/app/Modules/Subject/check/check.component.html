<div class="header">
    <!-- <h1 style="text-align: center;">Checking</h1> -->
    <h1 style="text-align: center;">{{fname}} {{lname}}'s Assessment</h1>
    <div class="button-group">
      <a [routerLink]="['/main/Subject/main/subject/modulesmain/', subjectID, 'modules', moduleID, 'mat']"  routerLinkActive="active">
          <button class="nav-btn">Learning Material</button>
      </a>
        <!-- <a [routerLink]="['/main/Subject/main/subject/modulesmain/', subjectID, 'modules', moduleID, 'assess']"  routerLinkActive="active">
          <button class="nav-btn">Assessment</button>
      </a> -->
      <a [routerLink]="['/main/Subject/main/subject/modulesmain/', subjectID, 'modules', moduleID, 'discuss']"  routerLinkActive="active">
          <button class="nav-btn">Discussion</button>
      </a>
  </div>
  </div>
<div class="modules">
  <div class="module">
      <div class="p-6 bg-background text-foreground">
          <div class="header-container">
              <h2 class="text-xl font-bold mb-4">{{ det.title }}</h2>
              <h2 class="text-xl font-bold mb-4">Total Score: {{ studScore.score }}/{{ maxScore }}</h2>
          </div>
          <p class="mb-4">
              {{ det.instruction }}
          </p>

          <!-- Loop through the questions array -->
          <ol>
            <div *ngFor="let answer of studentAnswers; let i = index" class="mt-3">
                <div class="hoverable-question">
                    <!-- Display student's answer if it's not an essay -->
                    <span *ngIf="answer.type !== 'Essay'" style="color: blue;"><u>{{ answer.student_answer }}</u></span>
                    {{ i + 1 }}. <!-- Display the question number -->
                    <strong>{{ answer.question }}</strong> <!-- Display the question text -->
                </div>
        
                <!-- Essay answer display -->
                <div *ngIf="answer.type === 'Essay'" class="input-wrapper">
                    <textarea style="width: 600px; height: 100px;" name="q{{answer.question_id}}" [value]="answer.student_answer" disabled></textarea>
                </div>
        
                <!-- Non-essay answer display -->
                <div *ngIf="answer.type == 'Essay'" class="input-wrapper">
                    <h6><b>Key Answer:</b> <u>{{ answer.key_answer }}</u> | <span style="color: red;">Score:</span> {{ answer.score }}/{{ answer.points }}</h6>
                </div>
        
                <!-- Score display for True/False (non-editable) -->
                <div *ngIf="answer.type === 'true-false'">
                    <h6><b>Key Answer:</b> {{ answer.key_answer }} | <span style="color: red;">Score:</span> {{ answer.score }}/{{ answer.points }}</h6>
                </div>
        
                <!-- Score display for Multiple-Choice (non-editable) -->
                <div *ngIf="answer.type === 'multiple-choice'">
                    <h6><b>Key Answer:</b> {{ answer.key_answer }} | <span style="color: red;">Score:</span> {{ answer.score }}/{{ answer.points }}</h6>
                </div>
        
                <!-- Editable score for Identification and Essays -->
                <div *ngIf="answer.type !== 'true-false' && answer.type !== 'multiple-choice'" class="score-input mb-3 mt-2">
                    <h6><b>Key Answer:</b> {{ answer.key_answer }} | <span style="color: red;">Score:</span> <input style="margin-left: 5px; width: 30px; border-radius: 10px;" id="scoreinput" type="text" [(ngModel)]="answer.score" (blur)="manualCheck(answer.question_id, answer.score)">/{{ answer.points }}</h6>
                    
                </div>
            </div>
          </ol>        
        </div>
    </div>
</div>